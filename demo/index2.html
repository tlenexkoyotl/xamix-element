<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script type="module">
      import '../xamix-element.js';
  </script>
  <title>Tlapowaltin</title>
</head>
<body>
<style>
  body {
    color: #ffffff;
    --xamix-text-color: #ffffcc;
    background-color: #191919;
    direction: rtl;
    font-family: monospace;
  }

  .hidden {
    display: none;
  }

  .columns > div {
    padding-left: 2vh;
  }

  div#numbers > div.columns > div:first-child {
    width: 13vw;
  }

  div#numbers > div.columns > div:nth-child(2) {
    width: 20vw;
  }

  div#numbers > div.columns > div:nth-child(3) {
    width: 25vw;
  }

  div#numbers > div.columns > div:last-child {
    width: 35vw;
  }

  .columns > * {
    display: table-cell;
  }

  .greeting > div > * {
    vertical-align: top;
  }

  span {
    color: #ffffff;
    font-size: 1.5vw;
    vertical-align: bottom;
  }

  .header > xamix-element > span {
    font-size: 2vw;
  }
</style>
<div class="card">
  <div id="allNumbers">
    <xamix-element id="numbersHeader"
                   class="header"
                   bold
                   textInput="tla-po-wal-tin">
      <span slot="after">Numbers</span>
    </xamix-element>
    <div id="numbers">
      <div class="columns">
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
      </div>
    </div>
    <br>
    <xamix-element id="largeNumbersHeader"
                   bold
                   textInput="wey-tla-po-wal-tin">
      <span slot="after">Large Numbers</span>
    </xamix-element>
    <div id="largeNumbers">
      <div>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
        <br>
        <xamix-element></xamix-element>
      </div>
    </div>
    <br>
    <xamix-element id="fractionalNumbersHeader"
                   bold
                   textInput="xe-liw-tla-po-wal-tin">
      <span slot="after">Fractional Numbers</span>
    </xamix-element>
    <div id="fractionalNumbers">
      <xamix-element></xamix-element>
      <br>
      <xamix-element></xamix-element>
      <br>
      <xamix-element></xamix-element>
      <br>
      <xamix-element></xamix-element>
      <br>
      <xamix-element></xamix-element>
    </div>
    <br>
    <xamix-element id="ordinalNumbersHeader"
                   class="header"
                   bold
                   textInput="tla-sem-po-wa-lis-tin">
      <span slot="after">Ordinal Numbers</span>
    </xamix-element>
    <div id="ordinalNumbers">
      <div class="columns">
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
        <div>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
          <br>
          <xamix-element></xamix-element>
        </div>
      </div>
    </div>
    <br>
  </div>
  <div>
    <xamix-element id="horizontalGreetingHeader"
                   class="header"
                   bold
                   textInput="mo-te-kak-tla-pa-lo-lis-tli">
      <span slot="after">Horizontal greeting</span>
    </xamix-element>
    <div id="horizontalGreeting" class="greeting">
      <div>
        <span>Font size: 5</span>
        <br>
        <xamix-element bold fontSize="5"></xamix-element>
        <xamix-element fontSize="5"></xamix-element>
      </div>
      <div>
        <span>Font size: 4</span>
        <br>
        <xamix-element bold fontSize="4"></xamix-element>
        <xamix-element fontSize="4"></xamix-element>
      </div>
      <div>
        <span>Font size: 3</span>
        <br>
        <xamix-element bold fontSize="3"></xamix-element>
        <xamix-element fontSize="3"></xamix-element>
      </div>
      <div>
        <span>Font size: 2</span>
        <br>
        <xamix-element bold fontSize="2"></xamix-element>
        <xamix-element fontSize="2"></xamix-element>
      </div>
      <div>
        <span>Font size: 1</span>
        <br>
        <xamix-element bold fontSize="1"></xamix-element>
        <xamix-element fontSize="1"></xamix-element>
      </div>
    </div>
    <br>
    <xamix-element id="verticalGreetingHeader"
                   class="header"
                   bold
                   textInput="tel-ke-za-ki-tla-pa-lo-lis-tli">
      <span slot="after">Vertical greeting</span>
    </xamix-element>
    <div id="verticalGreeting" class="columns greeting">
      <div>
        <span>Font size: 5</span>
        <br>
        <xamix-element bold vertical fontSize="5"></xamix-element>
        <xamix-element vertical fontSize="5"></xamix-element>
      </div>
      <div>
        <span>Font size: 4</span>
        <br>
        <xamix-element bold vertical fontSize="4"></xamix-element>
        <xamix-element vertical fontSize="4"></xamix-element>
      </div>
      <div>
        <span>Font size: 3</span>
        <br>
        <xamix-element bold vertical fontSize="3"></xamix-element>
        <xamix-element vertical fontSize="3"></xamix-element>
      </div>
      <div>
        <span>Font size: 2</span>
        <br>
        <xamix-element bold vertical fontSize="2"></xamix-element>
        <xamix-element vertical fontSize="2"></xamix-element>
      </div>
      <div>
        <span>Font size: 1</span>
        <br>
        <xamix-element bold vertical fontSize="1"></xamix-element>
        <xamix-element vertical fontSize="1"></xamix-element>
      </div>
    </div>
  </div>
  <script>
      const xamixHeaders = document.querySelectorAll('xamix-element.header');
      const wordsResized = 'words-resized';
      const setUpXamixElementsRoot = () => {
          const xamixElements = document.querySelectorAll('xamix-element');

          for (const xamix of xamixElements)
              xamix.setAttribute('root', '..');
      };
      const setUpGreetings = () => {
          const timeouts = {};
          const updates = {greetings: 0};
          const greeting =
              "nil-ze-mawkazalistli-_-no-to-ka-_-tle-nex-ko-yotl-_-ra-xi!d-zikoalistli1-_-i-wan-_-ni-me!-xi'-ka-tlamilistli";
          const xamixGreetings = document.querySelectorAll('div.greeting>div>xamix-element');

          const horizontalGreetingHeader = document.querySelector('#horizontalGreetingHeader');
          const horizontalGreetingsContainer = document.querySelector('#horizontalGreeting');

          const verticalGreetingHeader = document.querySelector('#verticalGreetingHeader');
          const verticalGreetingContainer = document.querySelector('#verticalGreeting');

          for (const element of xamixGreetings)
              element.setAttribute('textInput', greeting);

          for (const xamixGreeting of xamixGreetings)
              xamixGreeting
                  .addEventListener(wordsResized, () => updates.greetings++);

          timeouts.greetings = setInterval(() => {
              if (updates.greetings === xamixGreetings.length) {
                  horizontalGreetingsContainer.classList.toggle('hidden');
                  verticalGreetingContainer.classList.toggle('hidden');
                  horizontalGreetingHeader
                      .addEventListener('click', () =>
                          horizontalGreetingsContainer.classList.toggle('hidden'));
                  verticalGreetingHeader
                      .addEventListener('click', () =>
                          verticalGreetingContainer.classList.toggle('hidden'));

                  clearInterval(timeouts.greetings);
              }
          }, 0)
      };
      const setUpAllNumbers = () => {
          const timeouts = {};
          const updates = {};
          const numbers = [
              'a-_-ak-kil-i',
              'm-_-men-kil-i',
              'p-_-pek-kil-i',
              'tl-_-tlac-kil-i',
              'x-_-xos-kil-i',
              'z-_-zey-kil-i',
              'k-_-kow-kil-i',
              'q-_-qey-kil-i',
              'l-_-len-kil-i',
              'y-_-yol-kil-i',
              'm-a-_-me-mil-i',
              'm-m-_-me-mil-me-kil-i',
              'm-p-_-me-mil-pe-kil-i',
              'm-tl-_-me-mi-tla-kil-i',
              'm-x-_-me-mil-xo-kil-i',
              'm-z-_-me-mil-ze-kil-i',
              'm-k-_-me-mil-ko-kil-i',
              'm-q-_-me-mil-qe-kil-i',
              'm-l-_-me-mil-le-kil-i',
              'm-y-_-me-mil-yo-kil-i',
              'p-a-_-pe-mil-i',
              'p-m-_-pe-mil-me-kil-i',
              'p-p-_-pe-mil-pe-kil-i',
              'tl-a-_-tla-mil-i',
              'x-a-_-xo-mil-i',
              'm-a-a-_-me-pel-i',
              'm-m-a-_-me-pel-me-mil-i',
              'm-z-q-_-me-pel-ze-mil-qe-kil-i',
              'p-a-a-_-pe-pel-i',
              'tl-a-a-_-tla-pel-i',
              'tl-l-x-_-tla-pel-le-mil-xo-kil-i',
              'm-tlamilistli-a-a-a-_-me-tlal-i',
              'm-tlamilistli-y-m-q-_-me-tlal-yo-pel-me-mil-qe-kil-i',
              'm-tlamilistli-y-z-y-_-me-tlal-yo-pel-ze-mil-yo-kil-i',
              'm-tlamilistli-y-y-l-_-me-tlal-yo-pel-yo-mil-le-kil-i',
          ];
          const largeNumbers = [
              'q-q-tlamilistli-k-tl-y-_-qe-xol-qe-tlal-ko-pel-tla-mil-yo-kil-i',
              'q-tl-a-tlamilistli-y-p-y-_-qe-zel-tla-xol-me-tlal-yo-pel-pe-mil-yo-kil-i',
              'z-m-x-tlamilistli-m-tl-m-tlamilistli-y-p-y-_-ze-lel-me-qel-xo-kol-me-zel-tla-xol-me-tlal-yo-pel-pe-mil-yo-kil-i',
              'z-tlamilistli-a-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-_-ze-yol-i',
              'q-a-tlamilistli-a-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-_-qe-me-miz-i',
              'y-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-_-yo-me-mil-me-kiz-i',
              'tla-tla-pel-tla-kiz-i',
              'ze-tla-pel-tla-kiz-i'
          ];
          const fractionalNumbers = [
              'm-tlanesemixnawalistli-p-_-me-kil-xel-pe-kil-ton',
              'tl-tlanesemixnawalistli-x-_-tla-kil-xel-xo-kil-ton',
              'a-tlanesemixnawalistli-tl-_-a-kil-xel-tla-kil-ton',
              'tl-tlanesemixnawalistli-l-_-tla-kil-xel-le-kil-ton',
              'tl-q-tlanesemixnawalistli-k-tl-_-tla-mil-qe-kil-xel-ko-mil-tla-kil-ton'
          ];
          const ordinalNumbers = [
              'a-tik-_-ak-kil-tik',
              'm-tik-_-men-kil-tik',
              'p-tik-_-pek-kil-tik',
              'tl-tik-_-tlac-kil-tik',
              'x-tik-_-xos-kil-tik',
              'z-tik-_-zey-kil-tik',
              'k-tik-_-kow-kil-tik',
              'q-tik-_-qey-kil-tik',
              'l-tik-_-len-kil-tik',
              'y-tik-_-yol-kil-tik',
              'm-a-tik-_-me-mil-tik',
              'm-m-tik-_-me-mil-me-kil-tik',
              'm-p-tik-_-me-mil-pe-kil-tik',
              'm-tl-tik-_-me-mi-tla-kil-tik',
              'm-x-tik-_-me-mil-xo-kil-tik',
              'm-z-tik-_-me-mil-ze-kil-tik',
              'm-k-tik-_-me-mil-ko-kil-tik',
              'm-q-tik-_-me-mil-qe-kil-tik',
              'm-l-tik-_-me-mil-le-kil-tik',
              'm-y-tik-_-me-mil-yo-kil-tik',
              'p-a-tik-_-pe-mil-tik',
              'p-m-tik-_-pe-mil-me-kil-tik',
              'p-p-tik-_-pe-mil-pe-kil-tik',
              'tl-a-tik-_-tla-mil-tik',
              'x-a-tik-_-xo-mil-tik',
              'm-a-a-tik-_-me-pel-tik',
              'm-m-a-tik-_-me-pel-me-mil-tik',
              'm-z-q-tik-_-me-pel-ze-mil-qe-kil-tik',
              'p-a-a-tik-_-pe-pel-tik',
              'tl-a-a-tik-_-tla-pel-tik',
              'tl-l-x-tik-_-tla-pel-le-mil-xo-kil-tik',
              'm-tlamilistli-a-a-a-tik-_-me-tlal-tik',
              'm-tlamilistli-y-m-q-tik-_-me-tlal-yo-pel-me-mil-qe-kil-tik',
              'm-tlamilistli-y-z-y-tik-_-me-tlal-yo-pel-ze-mil-yo-kil-tik',
              'm-tlamilistli-y-y-l-tik-_-me-tlal-yo-pel-yo-mil-le-kil-tik',
          ];
          const numbersHeader = document.querySelector('#numbersHeader');
          const xamixNumbersContainer = document.querySelector('#numbers');
          const xamixAllNumbers = document.querySelectorAll(
              '#allNumbers>div>div>div>xamix-element,' +
              '#allNumbers>div>div>xamix-element,' +
              '#allNumbers>div>xamix-element');
          const setUpNumberSet = (setTextInputs, elements, header, container, name, numberCallback) => {
              updates[name] = 0;

              const number = (xamixNumbers, values, callback) => {
                  for (let i = 0; i < elements.length; i++) {
                      const span = document.createElement('span');
                      span.innerHTML = callback(i);

                      span.setAttribute('slot', 'before');
                      xamixNumbers[i].setAttribute('textInput', values[i]);
                      xamixNumbers[i].appendChild(span);
                  }
              };

              number(elements, setTextInputs, numberCallback);

              for (const element of elements)
                  element.addEventListener(wordsResized, () => updates[name]++);

              timeouts[name] = setInterval(() => {
                  if (updates[name] === elements.length) {
                      container.classList.toggle('hidden');
                      header.addEventListener('click', () => container.classList.toggle('hidden'));

                      clearInterval(timeouts[name]);
                  }
              }, 0);
          };

          const xamixNumbers = document.querySelectorAll('#numbers>div>div>xamix-element');

          for (const xamix of xamixAllNumbers) {
              xamix.setAttribute('bold', '');
              xamix.setAttribute('fontSize', '2.5');
          }

          for (const xamix of xamixHeaders)
              xamix.setAttribute('fontSize', '4');

          const largeNumbersHeader = document.querySelector('#largeNumbersHeader');
          const xamixLargeNumbersContainer = document.querySelector('#largeNumbers');
          const xamixLargeNumbers = document.querySelectorAll('#largeNumbers>div>xamix-element');

          const fractionalNumbersHeader = document.querySelector('#fractionalNumbersHeader');
          const xamixFractionalNumbersContainer = document.querySelector('#fractionalNumbers');
          const xamixFractionalNumbers = document.querySelectorAll('#fractionalNumbers>xamix-element');

          const ordinalNumbersHeader = document.querySelector('#ordinalNumbersHeader');
          const xamixOrdinalNumbersContainer = document.querySelector('#ordinalNumbers');
          const xamixOrdinalNumbers = document.querySelectorAll('#ordinalNumbers>div>div>xamix-element');

          setUpNumberSet(numbers,
              xamixNumbers,
              numbersHeader,
              xamixNumbersContainer,
              'numbers', (i) => {
                  let result;

                  switch (i) {
                      case 23:
                          result = 30;
                          break;
                      case 24:
                          result = 40;
                          break;
                      case 25:
                          result = 100;
                          break;
                      case 26:
                          result = 110;
                          break;
                      case 27:
                          result = 157;
                          break;
                      case 28:
                          result = 200;
                          break;
                      case 29:
                          result = 300;
                          break;
                      case 30:
                          result = 384;
                          break;
                      case 31:
                          result = 1000;
                          break;
                      case 32:
                          result = 1917;
                          break;
                      case 33:
                          result = 1959;
                          break;
                      case 34:
                          result = 1998;
                          break;
                      default :
                          result = i;
                          break;
                  }

                  return `${result}/`;
              });

          setUpNumberSet(largeNumbers,
              xamixLargeNumbers,
              largeNumbersHeader,
              xamixLargeNumbersContainer,
              'large', (i) => {
                  let result;

                  switch (i + 35) {
                      case 35:
                          result = '77,639';
                          break;
                      case 36:
                          result = '731,929';
                          break;
                      case 37:
                          result = '514,131,929';
                          break;
                      case 38:
                          result = '5e9';
                          break;
                      case 39:
                          result = '7e10';
                          break;
                      case 40:
                          result = '9e11';
                          break;
                      case 41:
                          result = '3e303';
                          break;
                      case 42:
                          result = '5e303';
                          break;
                      default :
                          result = i;
                          break;
                  }

                  return `${result}/`;
              });

          setUpNumberSet(fractionalNumbers,
              xamixFractionalNumbers,
              fractionalNumbersHeader,
              xamixFractionalNumbersContainer,
              'fractional', (i) => {
                  let result;

                  switch (i + 43) {
                      case 43:
                          result = '½';
                          break;
                      case 44:
                          result = '¾';
                          break;
                      case 45:
                          result = '↉';
                          break;
                      case 46:
                          result = '⅜';
                          break;
                      case 47:
                          result = '37:63';
                          break;
                      default :
                          result = i;
                          break;
                  }

                  return `${result}/`;
              });

          setUpNumberSet(ordinalNumbers,
              xamixOrdinalNumbers,
              ordinalNumbersHeader,
              xamixOrdinalNumbersContainer,
              'ordinal', (i) => {
                  let result;

                  switch (i) {
                      case 23:
                          result = 30;
                          break;
                      case 24:
                          result = 40;
                          break;
                      case 25:
                          result = 100;
                          break;
                      case 26:
                          result = 110;
                          break;
                      case 27:
                          result = 157;
                          break;
                      case 28:
                          result = 200;
                          break;
                      case 29:
                          result = 300;
                          break;
                      case 30:
                          result = 384;
                          break;
                      case 31:
                          result = 1000;
                          break;
                      case 32:
                          result = 1917;
                          break;
                      case 33:
                          result = 1959;
                          break;
                      case 34:
                          result = 1998;
                          break;
                      default :
                          result = i;
                          break;
                  }

                  return `${result}°/`;
              });
      };

      setUpXamixElementsRoot();
      setUpAllNumbers();
      setUpGreetings();
  </script>
</div>
</body>
</html>
