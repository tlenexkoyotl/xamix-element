<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script type="module">
      import '../xamix-element.js';
  </script>
  <title>Tlapowaltin</title>
</head>
<body>
<style>
  .card {
    padding: 10px;
    color: #757575;
    border-radius: 5px;
    background-color: #fff;
    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
    direction: rtl;
    font-family: Arial;
  }

  .hidden {
    display: none;
  }

  .columns > div {
    padding-left: 2vh;
  }

  div#numbers > div.columns > div {
    width: 20vw;
  }

  div#numbers > div.columns > div:last-child {
    width: 30vw;
  }

  .columns > * {
    display: table-cell;
  }

  xamix-element > span {
    font-size: 2vw;
    vertical-align: bottom;
  }

  xamix-element#numbersHeader, #largeNumbersHeader, #fractionalNumbersHeader, #horizontalGreetingHeader, #verticalGreetingHeader > span {
    font-size: 1vw;
    vertical-align: bottom;
  }
</style>
<div class="card">
  <xamix-element id="numbersHeader" root=".." bold fontSize="5" textInput="tla-po-wal-tin">
    <span slot="after">Numbers</span>
  </xamix-element>
  <div id="numbers">
    <div class="columns">
      <div>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
      </div>
      <div>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
      </div>
      <div>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
      </div>
      <div>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
      </div>
    </div>
  </div>
  <br>
  <div>
    <xamix-element id="largeNumbersHeader" root=".." bold fontSize="5"
                   textInput="wey-tla-po-wal-tin">
      <span slot="after">Large Numbers</span>
    </xamix-element>
    <div id="largeNumbers">
      <div>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
        <br>
        <xamix-element root=".."></xamix-element>
      </div>
    </div>
    <br>
    <xamix-element id="fractionalNumbersHeader" root=".." bold fontSize="5"
                   textInput="xe-liw-tla-po-wal-tin">
      <span slot="after">Fractional Numbers</span>
    </xamix-element>
    <div id="fractionalNumbers">
      <xamix-element root=".."></xamix-element>
      <br>
      <xamix-element root=".."></xamix-element>
      <br>
      <xamix-element root=".."></xamix-element>
      <br>
      <xamix-element root=".."></xamix-element>
      <br>
      <xamix-element root=".."></xamix-element>
      <br>
    </div>
  </div>
  <br>

  <xamix-element id="horizontalGreetingHeader" root=".." bold fontSize="5"
                 textInput="mo-te-kak-tla-pa-lo-lis-tli">
    <span slot="after">Horizontal greeting</span>
  </xamix-element>
  <div id="horizontalGreeting" class="greeting">
    <div>
      <span>Font size: 5</span>
      <br>
      <xamix-element root=".." bold fontSize="5"></xamix-element>
      <xamix-element root=".." fontSize="5"></xamix-element>
    </div>
    <div>
      <span>Font size: 4</span>
      <br>
      <xamix-element root=".." bold fontSize="4"></xamix-element>
      <xamix-element root=".." fontSize="4"></xamix-element>
    </div>
    <div>
      <span>Font size: 3</span>
      <br>
      <xamix-element root=".." bold fontSize="3"></xamix-element>
      <xamix-element root=".." fontSize="3"></xamix-element>
    </div>
    <div>
      <span>Font size: 2</span>
      <br>
      <xamix-element root=".." bold fontSize="2"></xamix-element>
      <xamix-element root=".." fontSize="2"></xamix-element>
    </div>
    <div>
      <span>Font size: 1</span>
      <br>
      <xamix-element root=".." bold fontSize="1"></xamix-element>
      <xamix-element root=".." fontSize="1"></xamix-element>
    </div>
  </div>
  <br>
  <xamix-element id="verticalGreetingHeader" root=".." bold fontSize="5"
                 textInput="tel-ke-za-ki-tla-pa-lo-lis-tli">
    <span slot="after">Vertical greeting</span>
  </xamix-element>
  <div id="verticalGreeting" class="columns greeting">
    <div>
      <span>Font size: 5</span>
      <br>
      <xamix-element root=".." bold vertical fontSize="5"></xamix-element>
      <xamix-element root=".." vertical fontSize="5"></xamix-element>
    </div>
    <div>
      <span>Font size: 4</span>
      <br>
      <xamix-element root=".." bold vertical fontSize="4"></xamix-element>
      <xamix-element root=".." vertical fontSize="4"></xamix-element>
    </div>
    <div>
      <span>Font size: 3</span>
      <br>
      <xamix-element root=".." bold vertical fontSize="3"></xamix-element>
      <xamix-element root=".." vertical fontSize="3"></xamix-element>
    </div>
    <div>
      <span>Font size: 2</span>
      <br>
      <xamix-element root=".." bold vertical fontSize="2"></xamix-element>
      <xamix-element root=".." vertical fontSize="2"></xamix-element>
    </div>
    <div>
      <span>Font size: 1</span>
      <br>
      <xamix-element root=".." bold vertical fontSize="1"></xamix-element>
      <xamix-element root=".." vertical fontSize="1"></xamix-element>
    </div>
  </div>
  <script>
      const numbers = [
          'a-_-ak-kil-i',
          'm-_-men-kil-i',
          'p-_-pek-kil-i',
          'tl-_-tlac-kil-i',
          'x-_-xos-kil-i',
          'z-_-zey-kil-i',
          'k-_-kow-kil-i',
          'q-_-qey-kil-i',
          'l-_-len-kil-i',
          'y-_-yol-kil-i',
          'm-a-_-me-mil-i',
          'm-m-_-me-mil-me-kil-i',
          'm-p-_-me-mil-pe-kil-i',
          'm-tl-_-me-mi-tla-kil-i',
          'm-x-_-me-mil-xo-kil-i',
          'm-z-_-me-mil-ze-kil-i',
          'm-k-_-me-mil-ko-kil-i',
          'm-q-_-me-mil-qe-kil-i',
          'm-l-_-me-mil-le-kil-i',
          'm-y-_-me-mil-yo-kil-i',
          'p-a-_-pe-mil-i',
          'p-m-_-pe-mil-me-kil-i',
          'p-p-_-p-e-mil-pe-kil-i',
          'tl-a-_-tla-mil-i',
          'x-a-_-xo-mil-i',
          'm-a-a-_-me-pel-i',
          'm-m-a-_-me-pel-me-mil-i',
          'm-z-q-_-me-pel-ze-mil-qe-kil-i',
          'p-a-a-_-pe-pel-i',
          'tl-a-a-_-tla-pel-i',
          'tl-l-x-_-tla-pel-le-mil-xo-kil-i',
          'm-tlamilistli-a-a-a-_-me-tlal-i',
          'm-tlamilistli-y-m-q-_-me-tlal-yo-pel-me-mil-qe-kil-i',
          'm-tlamilistli-y-z-y-_-me-tlal-yo-pel-ze-mil-yo-kil-i',
          'm-tlamilistli-y-y-l-_-me-tlal-yo-pel-yo-mil-le-kil-i'
      ];
      const largeNumbers = [
          'q-q-tlamilistli-k-tl-y-_-qe-xol-qe-tlal-ko-pel-tla-mil-yo-kil-i',
          'q-tl-a-tlamilistli-y-p-y-_-qe-zel-tla-xol-me-tlal-yo-pel-pe-mil-yo-kil-i',
          'z-m-x-tlamilistli-m-tl-m-tlamilistli-y-p-y-_-ze-lel-me-qel-xo-kol-me-zel-tla-xol-me-tlal-yo-pel-pe-mil-yo-kil-i',
          'z-tlamilistli-a-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-_-ze-yol-i',
          'q-a-tlamilistli-a-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-_-qe-me-miz-i',
          'y-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-tlamilistli-a-a-a-_-yo-me-mil-me-kiz-i',
          'tla-tla-pel-tla-kiz-i',
          'ze-tla-pel-tla-kiz-i'
      ];
      const fractionalNumbers = [
          'm-tlanesemixnawalistli-p-_-me-kil-xel-pe-kil-ton',
          'tl-tlanesemixnawalistli-x-_-tla-kil-xel-xo-kil-ton',
          'a-tlanesemixnawalistli-tl-_-a-kil-xel-tla-kil-ton',
          'tl-tlanesemixnawalistli-l-_-tla-kil-xel-le-kil-ton',
          'tl-q-tlanesemixnawalistli-k-tl-_-tla-mil-qe-kil-xel-ko-mil-tla-kil-ton'
      ];
      const greeting =
          "nil-ze-mawkazalistli-_-no-to-ka-_-tle-nex-ko-yotl-_-ra-xi!d-zikoalistli1-_-i-wan-_-ni-me!-xi'-ka-tlamilistli";
      const numbersHeader = document.querySelector('#numbersHeader');
      const xamixNumbersContainer = document.querySelector('#numbers');
      const xamixNumbers = document.querySelectorAll('#numbers>div>div>xamix-element');

      for (const xamix of xamixNumbers) {
          xamix.setAttribute('bold', '');
          xamix.setAttribute('fontSize', '2.5');
      }

      const largeNumbersHeader = document.querySelector('#largeNumbersHeader');
      const xamixLargeNumbersContainer = document.querySelector('#largeNumbers');
      const xamixLargeNumbers = document.querySelectorAll('#largeNumbers>div>xamix-element');

      for (const xamix of xamixLargeNumbers) {
          xamix.setAttribute('bold', '');
          xamix.setAttribute('fontSize', '2.5');
      }

      const fractionalNumbersHeader = document.querySelector('#fractionalNumbersHeader');
      const xamixFractionalNumbersContainer = document.querySelector('#fractionalNumbers');
      const xamixFractionalNumbers = document.querySelectorAll('#fractionalNumbers>xamix-element');

      for (const xamix of xamixFractionalNumbers) {
          xamix.setAttribute('bold', '');
          xamix.setAttribute('fontSize', '2.5');
      }

      const xamixGreetings = document.querySelectorAll('div.greeting>div>xamix-element');

      const horizontalGreetingHeader = document.querySelector('#horizontalGreetingHeader');
      const horizontalGreetingsContainer = document.querySelector('#horizontalGreeting');

      const verticalGreetingHeader = document.querySelector('#verticalGreetingHeader');
      const verticalGreetingContainer = document.querySelector('#verticalGreeting');

      const number = (xamixNumbers, values, init, end, callback = (i, offset) => {
          return i + offset;
      }, offset = 0) => {
          for (let i = init; i < end; i++) {
              const span = document.createElement('span');
              span.innerHTML = callback(i, offset);

              span.setAttribute('slot', 'before');
              xamixNumbers[i].setAttribute('textInput', values[i + offset]);
              xamixNumbers[i].appendChild(span);
          }
      };

      number(xamixNumbers, numbers, 0, xamixNumbers.length, (i, offset) => {
          let result;

          switch (i + offset) {
              case 23:
                  result = 30;
                  break;
              case 24:
                  result = 40;
                  break;
              case 25:
                  result = 100;
                  break;
              case 26:
                  result = 110;
                  break;
              case 27:
                  result = 157;
                  break;
              case 28:
                  result = 200;
                  break;
              case 29:
                  result = 300;
                  break;
              case 30:
                  result = 384;
                  break;
              case 31:
                  result = 1000;
                  break;
              case 32:
                  result = 1917;
                  break;
              case 33:
                  result = 1959;
                  break;
              case 34:
                  result = 1998;
                  break;
              default :
                  result = i + offset;
                  break;
          }

          return `${result}/`;
      });

      number(xamixLargeNumbers, largeNumbers, 0, xamixLargeNumbers.length, (i, offset) => {
          let result;

          switch (i + offset + 35) {
              case 35:
                  result = '77,639';
                  break;
              case 36:
                  result = '731,929';
                  break;
              case 37:
                  result = '514,131,929';
                  break;
              case 38:
                  result = '5e9';
                  break;
              case 39:
                  result = '7e10';
                  break;
              case 40:
                  result = '9e11';
                  break;
              case 41:
                  result = '3e303';
                  break;
              case 42:
                  result = '5e303';
                  break;
              default :
                  result = i + offset;
                  break;
          }

          return `${result}/`;
      });

      number(xamixFractionalNumbers, fractionalNumbers, 0, xamixFractionalNumbers.length, (i, offset) => {
          let result;

          switch (i + offset + 43) {
              case 43:
                  result = '½';
                  break;
              case 44:
                  result = '¾';
                  break;
              case 45:
                  result = '↉';
                  break;
              case 46:
                  result = '⅜';
                  break;
              case 47:
                  result = '37:63';
                  break;
              default :
                  result = i + offset;
                  break;
          }

          return `${result}/`;
      });

      for (const element of xamixGreetings)
          element.setAttribute('textInput', greeting);

      let numbersUpdates = 0;
      let largeNumbersUpdates = 0;
      let fractionalNumbersUpdates = 0;
      let greetingsUpdates = 0;

      for (const xamixNumber of xamixNumbers)
          xamixNumber
              .addEventListener('update-done', () => numbersUpdates++);

      for (const xamixNumber of xamixLargeNumbers)
          xamixNumber
              .addEventListener('update-done', () => largeNumbersUpdates++);

      for (const xamixNumber of xamixFractionalNumbers)
          xamixNumber
              .addEventListener('update-done', () => fractionalNumbersUpdates++);

      for (const xamixGreeting of xamixGreetings)
          xamixGreeting
              .addEventListener('update-done', () => greetingsUpdates++);

      const timeouts = {};

      timeouts.numbers = setInterval(() => {
          if (numbersUpdates >= 70) {
              xamixNumbersContainer.classList.toggle('hidden');
              numbersHeader
                  .addEventListener('click',
                      () => xamixNumbersContainer.classList.toggle('hidden'));

              clearInterval(timeouts.numbers);
          }
      }, 0);

      timeouts.largeNumbers = setInterval(() => {
          if (largeNumbersUpdates >= 16) {
              xamixLargeNumbersContainer.classList.toggle('hidden');
              largeNumbersHeader
                  .addEventListener('click',
                      () => xamixLargeNumbersContainer.classList.toggle('hidden'));

              clearInterval(timeouts.largeNumbers);
          }
      }, 0);

      timeouts.fractionalNumbers = setInterval(() => {
          if (fractionalNumbersUpdates >= 10) {
              xamixFractionalNumbersContainer.classList.toggle('hidden');
              fractionalNumbersHeader
                  .addEventListener('click',
                      () => xamixFractionalNumbersContainer.classList.toggle('hidden'));

              clearInterval(timeouts.fractionalNumbers);
          }
      }, 0);

      timeouts.greetings = setInterval(() => {
          if (greetingsUpdates >= 40) {
              horizontalGreetingsContainer.classList.toggle('hidden');
              verticalGreetingContainer.classList.toggle('hidden');
              horizontalGreetingHeader
                  .addEventListener('click', () => horizontalGreetingsContainer.classList.toggle('hidden'));
              verticalGreetingHeader
                  .addEventListener('click', () => verticalGreetingContainer.classList.toggle('hidden'));

              clearInterval(timeouts.greetings);
          }
      }, 0);
  </script>
</div>
</body>
</html>
